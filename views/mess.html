<%-include("header.html") %>


    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Don't use this in production: -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>


<div class="row">

<div class="col-10">





<div class="row">

<h5 class="card-title" style="background-color: white;padding:10px 0 10px 0 ;margin-top:15px;text-align:center">Inbox messages</h5>

<div class="col-12">

<div class="list-group w-auto" style="margin-top:20px;margin-bottom:20px;" id="lsts2"> 



<div id="root"></div>
    

<script type="text/babel">
    

function MyApp() {
		  

const [Data,SetData] = React.useState([])
		  
		  
React.useEffect(() => {
			
async function Data(){

const QpData = await axios.get("http://127.0.0.1:2000/messages/mcntlst/")

SetData(QpData.data)


//const qweq = await axios.get("http://127.0.0.1:2000/qw2")
//console.log(QpData.data)
}

Data()

		    
},[SetData])

		  
 return (<>
 
 
 
 {Data.map((val,key)=> 
<a href={`/messages/${val.user_id}`} key={key} class="list-group-item list-group-item-action d-flex gap-3 py-3" aria-current="true">
    <img src="/pics/20cbda2267c7a60506893a9d0948aab2--dark-anime-hot-anime.jpg" alt="twbs" width="40" height="40" className="rounded-circle flex-shrink-0"/>
    <div className="d-flex gap-2 w-100 justify-content-between">
      <div>
        <h6 className="mb-0">{val.name} {val.surn}</h6>
        <p className="mb-0 opacity-75">Some placeholder content in a paragraph.</p>
      </div>
      <small className="opacity-50 text-nowrap">{tmqwe(val.when)}</small>
    </div>
  </a> 
	)} 
 
 
 </>)
        
}

const container = document.getElementById('root');
const root = ReactDOM.createRoot(container);
root.render(<MyApp />);

</script>



  
  
  </div>
   
  </div>
 
 
 
  
</div>

</div>


<%-include("right.html") %>


</div>

<script>

function tmqwe(w22){
	
let qwe = new Date(w22);

let d = qwe.getDate()
let y = qwe.getFullYear()
let m = qwe.getMonth()
var mS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'];
	 
return `${d} ${mS[m]} ${y}`;	 
}

</script>


<%-include("footer.html") %>
